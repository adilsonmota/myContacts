<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>
	
</h:head>

<h:body>
		
	<h3>Olá, <h:outputText value="#{ContactBean.currentUser.name}"/></h3>
	
	<h3></h3>
	
	<style type="text/css">
	    .label {
	        width:20%;
	        padding:4px;
	    }
	 
	    .value {
	        width:80%;
	        padding:4px;
	    }
	 
	    .grid {
	        width:100%;
	    }
	 
	    .error {
	        color: red;
	    }
	 
	    .outputLabel {
	        font-weight: bold;
	    }
	 
	    .grid {
	        width:33%;
	        padding:4px;
	    }
	    
	    .semBorda tr, .semBorda td {
			border: none !important;
			vertical-align: top;
		}
	    
	</style>
	
  
<h:form id="form1">
	<p:growl id="growl" showDetail="true" showSummary="false" sticky="false" /> 
    
            <p:panel header="Buscar contatos" id="buscar">
                <h:panelGrid columns="3">
                    <h:outputText value="Buscar por: "/><p:inputText size="60" value="#{ContactBean.keyword}" placeholder="deixe vazio para todos" onblur="value=value.toUpperCase()"/>
                    <p:commandButton value="Ok" update=":form1 :form2" actionListener="#{ContactBean.search}"/>
                </h:panelGrid>
            </p:panel>
</h:form>

<h:form id="form2">
    
            <p:panel header="listagem de contatos" id="listagem">
					
					<p:dataTable value="#{ContactBean.listContacts}" var="ct" id="contactsTable" >
						<p:column headerText="Contato" style="width:200px">
				            <p:column headerText="Nome" >
				            	<h:outputText value="#{ct.name}" />
				            </p:column>
				            <p:column headerText="Sobrenome" >
				            	<h:outputText value="#{ct.lastname}" />
				            </p:column>
				            <p:column headerText="Email" >
				            	<h:outputText value="#{ct.email}" />
				            </p:column>
				         </p:column>   
				         <p:column headerText="Telefones" style="width:300px">  
				            <p:dataTable value="#{ct.phones}" var="ph" >
						            <p:column headerText="Tipo" style="width:30px">
						                <h:outputText value="#{ph.typ}" />
						            </p:column>
						            <p:column headerText="Oper." style="width:30px">
						                <h:outputText value="#{ph.oper}" />
						            </p:column>
						            <p:column headerText="Número" style="width:80px">
						                <h:outputText value="#{ph.numbr}" />
						            </p:column>
							</p:dataTable>
						</p:column>	
						<p:column headerText="Endereços">	
							<p:dataTable value="#{ct.adresses}" var="ad">
						            <p:column headerText="Local" style="width:20px">
						                <h:outputText value="#{ad.place}" />
						            </p:column>
						            <p:column headerText="Numero" style="width:20px">
						                <h:outputText value="#{ad.numbr}" />
						            </p:column>
						            <p:column headerText="Rua" style="width:100px">
						                <h:outputText value="#{ad.street}" />
						            </p:column>
						            <p:column headerText="Bairro" style="width:100px">
						                <h:outputText value="#{ad.neighb}" />
						            </p:column>
						            <p:column headerText="Cidade" style="width:100px">
						                <h:outputText value="#{ad.city}" />
						            </p:column>
									<p:column headerText="Estado" style="width:15px">
					                	 <h:outputText value="#{ad.stateOf}" />
				            		</p:column>
				           </p:dataTable>
				         </p:column> 		          
				    </p:dataTable>
            </p:panel>
</h:form>

	
</h:body>

</html>