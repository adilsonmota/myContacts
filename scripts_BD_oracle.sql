/* CRIAR TABELAS */

/*1.*/

CREATE TABLE TB_USER (
ID NUMBER NOT NULL,
USERNAME VARCHAR (40) UNIQUE NOT NULL,
PASSWORD VARCHAR (40) NOT NULL,
NAME VARCHAR (40) NOT NULL,
PRIMARY KEY(ID)
);

/*2.*/

CREATE TABLE TB_CONTACT (
ID NUMBER NOT NULL,
NAME VARCHAR (20) NOT NULL,
LASTNAME VARCHAR (20) NOT NULL,
EMAIL VARCHAR (40),
USER_ID NUMBER NOT NULL,
PRIMARY KEY (ID),
FOREIGN KEY (USER_ID) REFERENCES TB_USER (ID)
ON DELETE CASCADE ENABLE
);

/*3.*/

CREATE TABLE TB_PHONE (
ID NUMBER NOT NULL,
TYP VARCHAR (10),
OPER VARCHAR (10),
NUMBR VARCHAR (15) NOT NULL,
CONTACT_ID NUMBER NOT NULL,
PRIMARY KEY (ID),
FOREIGN KEY (CONTACT_ID) REFERENCES TB_CONTACT (ID)
ON DELETE CASCADE ENABLE
);

/*4.*/

CREATE TABLE TB_ADRESS (
ID NUMBER NOT NULL,
PLACE VARCHAR (10),
NUMBR VARCHAR (10),
STREET VARCHAR (40) NOT NULL,
NEIGHB VARCHAR (40) NOT NULL,
CITY VARCHAR(20) NOT NULL,
STATEOF CHAR(2) NOT NULL,
CONTACT_ID NUMBER NOT NULL,
PRIMARY KEY (ID),
FOREIGN KEY (CONTACT_ID) REFERENCES TB_CONTACT (ID)
ON DELETE CASCADE ENABLE
);

/* FIM */

/* CRIAR SEQUENCIA DE ID's*/

/*1.*/

create sequence SEQ_USER
start with 1
increment by 1
maxvalue 99999
minvalue 0;

/*2.*/

create sequence SEQ_CONTACT
start with 1
increment by 1
maxvalue 99999
minvalue 0;

/*3.*/

create sequence SEQ_PHONE
start with 1
increment by 1
maxvalue 99999
minvalue 0;

/*4.*/

create sequence SEQ_ADRESS
start with 1
increment by 1
maxvalue 99999
minvalue 0;

/* FIM */

/* TRIGGER - PADRONIZAR DADOS */

/*1.*/

CREATE OR REPLACE TRIGGER TBUSER 
before INSERT OR UPDATE OF NAME, USERNAME ON TB_USER
for each row
BEGIN
	:new.NAME := upper(:new.NAME);
	:new.USERNAME := lower(:new.USERNAME);
END;

/*2.*/

CREATE OR REPLACE TRIGGER TBCONTACT
before INSERT OR UPDATE OF NAME, LASTNAME, EMAIL ON TB_CONTACT
for each row
BEGIN
  :new.NAME := upper(:new.NAME);
  :new.LASTNAME := upper(:new.LASTNAME);
  :new.EMAIL := lower(:new.EMAIL);
END;

/*3.*/

CREATE OR REPLACE TRIGGER TBPHONE
before INSERT OR UPDATE OF TYP, OPER ON TB_PHONE
for each row
BEGIN
  :new.TYP := upper(:new.TYP);
  :new.OPER := upper(:new.OPER);
END;

/*4.*/

CREATE OR REPLACE TRIGGER TBADRESS
before INSERT OR UPDATE OF PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF ON TB_ADRESS
for each row
BEGIN
  :new.PLACE := upper(:new.PLACE);
  :new.NUMBR := upper(:new.NUMBR);
  :new.STREET := upper(:new.STREET);
  :new.NEIGHB := upper(:new.NEIGHB);
  :new.CITY := upper(:new.CITY);
  :new.STATEOF := upper(:new.STATEOF);
END;

/* FIM */

/*POVOAR BANCO*/

/* USUÁRIOS */

INSERT INTO TB_USER (ID, USERNAME, PASSWORD, NAME) VALUES (101, 'adi', '123456', 'adilson');
INSERT INTO TB_USER (ID, USERNAME, PASSWORD, NAME) VALUES (102, 'myris', '123456', 'thamyris');

/* CONTATOS */

INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (201, 'bel', 'marques', 'BELMARQUES@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (202, 'caetano', 'veloso', 'CAETANOVELOSO@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (203, 'gilberto', 'gil', 'GILBERTOGIL@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (204, 'raul', 'seixas', 'RAULSEIXAS@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (205, 'ivete', 'sangalo', 'IVETESANGALO@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (206, 'carlinhos', 'brown', 'CARLINHOSBROWN@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (207, 'saulo', 'fernandes', 'SAULOFERNANDES@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (208, 'edson', 'gomes', 'EDSONGOMES@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (209, 'tony', 'sales', 'TONYSALES@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (210, 'leo', 'santana', 'LEOSANTANA@gmail.com', 101);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (211, 'bel', 'marques', 'BELMARQUES@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (212, 'caetano', 'veloso', 'CAETANOVELOSO@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (213, 'gilberto', 'gil', 'GILBERTOGIL@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (214, 'raul', 'seixas', 'RAULSEIXAS@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (215, 'ivete', 'sangalo', 'IVETESANGALO@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (216, 'carlinhos', 'brown', 'CARLINHOSBROWN@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (217, 'saulo', 'fernandes', 'SAULOFERNANDES@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (218, 'edson', 'gomes', 'EDSONGOMES@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (219, 'tony', 'sales', 'TONYSALES@gmail.com', 102);
INSERT INTO TB_CONTACT (ID, NAME, LASTNAME, EMAIL, USER_ID) VALUES (220, 'leo', 'santana', 'LEOSANTANA@gmail.com', 102);

/* TELEFONES */

INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (301, 'CEL', 'vivo', '(71)9-9871-3215', 201);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (302, 'CEL', 'oi', '(71)9-8798-4654', 202);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (303, 'CEL', 'tim', '(71)9-8654-3135', 203);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (304, 'CEL', 'claro', '(71)9-9634-2465', 204);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (305, 'CEL', 'vivo', '(71)9-9846-2135', 205);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (306, 'CEL', 'oi', '(71)9-8762-6546', 206);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (307, 'CEL', 'tim', '(71)9-8798-9345', 207);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (308, 'CEL', 'claro', '(71)9-9996-2354', 208);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (309, 'CEL', 'vivo', '(71)9-8887-6545', 209);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (310, 'CEL', 'oi', '(71)9-9879-5466', 210);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (311, 'CEL', 'tim', '(71)9-7862-6565', 210);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (312, 'CEL', 'claro', '(71)9-9968-7412', 210);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (313, 'CEL', 'vivo', '(71)9-9871-3215', 201);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (314, 'CEL', 'oi', '(71)9-8798-4654', 202);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (315, 'CEL', 'tim', '(71)9-8654-3135', 203);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (316, 'CEL', 'claro', '(71)9-9634-2465', 204);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (317, 'CEL', 'vivo', '(71)9-9846-2135', 205);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (318, 'CEL', 'oi', '(71)9-8762-6546', 206);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (319, 'CEL', 'tim', '(71)9-8798-9345', 207);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (320, 'CEL', 'claro', '(71)9-9996-2354', 208);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (321, 'CEL', 'vivo', '(71)9-8887-6545', 209);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (322, 'CEL', 'oi', '(71)9-9879-5466', 210);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (323, 'CEL', 'tim', '(71)9-7862-6565', 210);
INSERT INTO TB_PHONE (ID, TYP, OPER, NUMBR, CONTACT_ID) VALUES (324, 'CEL', 'claro', '(71)9-9968-7412', 210);

/* ENDEREÇOS */

INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (401, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 201);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (402, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 202);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (403, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 203);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (404, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 204);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (405, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 205);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (406, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 206);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (407, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 207);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (408, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 208);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (409, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 209);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (410, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 210);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (411, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 211);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (412, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 212);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (413, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 213);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (414, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 214);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (415, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 215);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (416, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 216);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (417, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 217);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (418, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 218);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (419, 'trab', 's/n', 'av. oceânica', 'barra', 'salvador', 'ba', 219);
INSERT INTO TB_ADRESS (ID, PLACE, NUMBR, STREET, NEIGHB, CITY, STATEOF, CONTACT_ID) VALUES (420, 'trab', 's/n', 'av. adhemar de barros', 'ondina', 'salvador', 'ba', 220);

/* FIM */
